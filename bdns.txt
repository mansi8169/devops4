Importing json into mongodb:
open 3rd new cmd(admin mode)--> mongoimport --db TYIT43  --collection rest C:\Users\NGT\Desktop\Softwares\restaurants.json
creating backup--> mongodump --host=localhost --port=27017 --out C:\Vishal -->db.dropDatabase()
now retrieve backup(new cmd)--> mongorestore C:\Vishal\TYIT43\rest.bson
now in 2nd cmd--> db.rest.find().count()


push-->db.order.aggregate([{$group:{_id:$product,quantities:{$push:"$quantity"}}}])



PHP
1)insert.php
<? php
$m=new MongoClient();
echo "Connection to db success";
$db=$m->TYIT259643;
echo "db selected";
$col=$db->MyCol; 
echo"collection selected"; //same till here
$doc=array(
	"name"=>"romal",
	"age":=>20);
$col->insert($doc);
echo "doc inserted";
?>
2)update.php
$col=update(array("name"=>"romal"),array('$set'=>array("age"=>19))));
3)retrieve
$cursor=$col->find();
foreach($cursor as $doc)
	echo "$doc["name"]" <br/>; } 
4)delete
$col=remove(array("name"=>"romal"));

JSON with mongodb:
1)creating json
<script type="text/javascript">
	var data={
		"name":"romal"
		"age":20
	}
	document.write(JSON.stringify(data));
);
</script>
2)parsing json
<script type="text/javascript">
	var data={...}
	return value;
}); doc.write(jsonObj.name);
for key in jsonObj){
	doc.write(key+" "+jsonObj[key]);}
var jsonObj=JSON.parse(data,function(name,value){
	if(name=="romal"){ return undefined;}
	else{ return value;}  });
for (key in jsonObj){ doc.write(key+" "+jsonObj[key]);}
</script>
3)<script type="text/javascript">
var data={...};
var obj=JSON.parse(data);
for(var key in obj){ doc.write(key+" "+obj[key]);}
</script>




PHP:
go inside Xxamp folder -->htdocs-->save all files here
start apache-->browser: localhost/filename.php





replication, backup & restore:
data1-->db,config(dbpath:C:\data1\db\path\nlogpath:C:\data1\log\mongo.log\nport=27020),log
data2 (similar)
stop mongodb server
new cmd-->mongod --dbpath "C:\Program Files\MongoDB\Server\5.0\data" --logpath "â€ªC:\Program Files\MongoDB\Server\5.0\log\mongod.log" --port 27017 --storageEngine=wiredTiger --journal --replSet mansi259643
now new cmd-->mongosh --port 27017
test>>rsconf={_id:"mansi259643",members:[{_id:0,host:"localhost"}]}
test>>rs.initiate(rsconf)
to check-->>show dbs
new cmd-->mongod --dbpath "C:\data1\db" --logpath "C:\data1\log\mongod.log" --port 27020 --storageEngine=wiredTiger --journal --replSet mansi259643
new cmd-->same for data2 from above
go to sec server in prim:
mansi259643:PRIMARY>>rs.add("localhost:27020")-->check by rs.status()
now add sec -->rs.add("localhost:27021")
open new cmd(connect wth prim)-->mongosh --port 27020
mansi259643:SECONDARY>>rs.secondaryOk()
new cmd-->mongosh --port 27021
mansi259643:SECONDARY>>rs.secondaryOk()
start server






Java with Mongodb:
1)
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import com.mongodb.MongoClient;
import org.bson.Document;
public class insert
{
	public static void main(String[] args)
	{
		MongoClient mongo=new MongoClient("localhost",27017);
		System.out.println("Connected to the database successfully.");
		MongoDatabase database=mongo.getDatabase("TYITDB259373");
		MongoCollection<Document>collection=database.getCollection("myCol");
		System.out.println("Collection myCol selected successfully.");
		Document document=new Document();
		document.append("id",1);
		document.append("Name","Payal");
		document.append("RollNo","259737");
		document.append("Age","20");
		document.append("Name","Payal");
		document.append("College","MCC");
		collection.insertOne(document);
		System.out.println("document inserted successfully.");
	}
}
2)
import com.mongodb.DB;
import com.mongodb.DBCollection;
import com.mongodb.BasicDBObject;
import com.mongodb.MongoClient;
import com.mongodb.WriteResult;
import java.net.UnknownHostException;
public class update
{
	public static void main(String[] args)
	{
		MongoClient mongo = new MongoClient("localhost", 27017);
		System.out.println("Connected to the database Successfully");
		DB db= mongo.getDB("TYITDB259737");
		DBCollection col= db.getCollection("myCol");
		BasicDBObject query=new BasicDBObject("id", 1);
		BasicDBObject update=new BasicDBObject();
		update.put("$set",new BasicDBObject("Age",21));
		WriteResult result=col.update(query,update);
		mongo.close();
	}
}
3)
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import com.mongodb.MongoClient;
import com.mongodb.MongoCredential;
import org.bson.Document;
import java.util.Iterator;
import com.mongodb.client.FindIterable;

public class retrive
{
	public static void main(String[] args)
	{
		MongoClient mongo=new MongoClient("localhost",27017);
		System.out.println("Connected to the database successfully.");
		MongoDatabase database=mongo.getDatabase("TYITDB259737");
		MongoCollection<Document> collection=database.getCollection("myCol");
		System.out.println("Collection myCol selected successfully");
		FindIterable<Document>iterDoc=collection.find();
		int i=1;
		Iterator it=iterDoc.iterator();
		while(it.hasNext())
		{
			System.out.println(it.next());
			i++;
		}
	}
}
4)
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import com.mongodb.MongoClient;
import com.mongodb.MongoCredential;
import org.bson.Document;
import com.mongodb.client.model.Filters;
public class delete
{
	public static void main(String[] args)
	{
		MongoClient mongo=new MongoClient("localhost",27017);
		System.out.println("Connected to the database successfully.");
		MongoDatabase database=mongo.getDatabase("TYITDB259737");
		MongoCollection<Document> collection=database.getCollection("myCol");
		System.out.println("Collection myCol selected successfully");
		collection.deleteOne(Filters.eq("id",1));
		System.out.println("Document deleted successfully.");
	}
}
we need 3 jar files within same folder
then compile and run:mongodb-driver-sync,mongodb-driver-core,bson
javac -cp ".;mongodb-driver-sync-4.11.1.jar;mongodb-driver-core-4.11.1.jar;bson-4.11.1.jar" insert.java
java -cp ".;mongodb-driver-sync-4.11.1.jar;mongodb-driver-core-4.11.1.jar;bson-4.11.1.jar" insert





